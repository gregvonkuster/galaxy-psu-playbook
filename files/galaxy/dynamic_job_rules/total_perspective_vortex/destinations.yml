destinations:
  slurm:
    cores: 24
    mem: 110
    context:
      time: "01:00:00"
    params:
      native_specification: "--nodes=1 --ntasks={cores} --ntasks-per-node={cores} --time={time} --mem={round(mem*1024)} --partition=normal"
    scheduling:
      accept:
        - general
        - slurm
      reject:
        - frontera
  frontera:
    cores: 112
    mem: 2048
    context:
      time: "01:00:00"
    params:
      submit_native_specification: "--nodes=1 --ntasks={cores} --ntasks-per-node={cores} --time={time} --partition=small"
    rules:
      - if: mem > 190
        params:
          submit_native_specification: "--nodes=1 --ntasks={cores} --ntasks-per-node={cores} --time={time} --partition=nvdimm"
    scheduling:
      accept:
        - frontera
        - pulsar
